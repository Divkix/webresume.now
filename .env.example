# clickfolio.me - Environment Variables Template
# Copy this file to .env.local and fill in your actual values

# ============================================
# Better Auth Configuration
# ============================================
# Generate secret with: openssl rand -base64 32

# Base URL for Better Auth AND the app (must match your deployment URL)
# This is the canonical URL for the application - used for auth, emails, sitemaps, etc.
# Development: http://localhost:3000
# Production: https://clickfolio.me
BETTER_AUTH_URL=http://localhost:3000

# Secret key for signing sessions and tokens (KEEP SECRET!)
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=your-secret-key-here

# ============================================
# Google OAuth Configuration
# ============================================
# Get these from: https://console.cloud.google.com/apis/credentials
# Create OAuth 2.0 Client ID (Web application type)
# Add authorized redirect URI: {BETTER_AUTH_URL}/api/auth/callback/google

# Google OAuth Client ID
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com

# Google OAuth Client Secret (KEEP SECRET!)
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ============================================
# Email (Resend)
# ============================================
# Used for password reset emails
# Get your API key at: https://resend.com/api-keys
# Free tier: 3,000 emails/month
# Optional: If not set, password reset emails won't send (users can use Google OAuth)
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================
# Application Configuration
# ============================================
# NOTE: The app URL is configured via BETTER_AUTH_URL above (single source of truth)

# Node environment (development, production, test)
NODE_ENV=development

# ============================================
# Cloudflare Edge Cache Purge (OPTIONAL)
# ============================================
# Only needed if using custom domain behind Cloudflare proxy AND you want
# instant (<1s) cache purge for privacy changes. Without these, privacy
# toggles still work but edge cache may serve stale content for up to 1hr.
# Skip if: using workers.dev domain or don't need instant privacy updates.
#
# Get Zone ID from Cloudflare Dashboard > Overview
# Create API Token at: https://dash.cloudflare.com/profile/api-tokens
#   - Permission: Zone > Cache Purge > Purge

# CF_ZONE_ID=your-zone-id-here
# CF_CACHE_PURGE_API_TOKEN=your-cache-purge-token-here

# ============================================
# DLQ Alerting (OPTIONAL)
# ============================================
# Get notified when resume parsing permanently fails (after all retries).
# Default: logs to Cloudflare Logpush (viewable in dashboard).
# Only configure if you want Slack/Discord/email notifications.

# ALERT_CHANNEL=logpush
# ALERT_WEBHOOK_URL=https://hooks.slack.com/services/...

# ============================================
# Cron Authentication (OPTIONAL)
# ============================================
# Bearer token for authenticating cron endpoint requests.
# If not set, cron endpoints skip authentication (not recommended for production).
# Generate with: openssl rand -base64 32

# CRON_SECRET=your-cron-secret-here

# ============================================
# AI Configuration (Resume Parsing)
# ============================================
# Resume parsing uses Vercel AI SDK with OpenRouter via Cloudflare AI Gateway.
# Get these from Cloudflare Dashboard > AI > Gateway
# CF_AI_GATEWAY_ACCOUNT_ID=your-account-id
# CF_AI_GATEWAY_ID=your-gateway-id
# CF_AIG_AUTH_TOKEN=your-auth-token

# AI Model for resume parsing (default: openai/gpt-oss-120b:nitro)
# Options:
#   - openai/gpt-oss-120b:nitro (default, best extraction, high throughput)
#   - openai/gpt-oss-20b:nitro (faster, cheaper)
# The :nitro suffix routes to highest-throughput provider
# AI_MODEL=openai/gpt-oss-120b:nitro

# ============================================
# Optional Configuration
# ============================================

# Maximum upload size in MB (default: 5)
# MAX_UPLOAD_SIZE_MB=5

# Rate limit: uploads per day per user (default: 5)
# RATE_LIMIT_UPLOADS_PER_DAY=5

# Rate limit: content updates per hour per user (default: 10)
# RATE_LIMIT_UPDATES_PER_HOUR=10

# ============================================
# Development Notes
# ============================================
#
# 1. NEVER commit .env.local to git (it's in .gitignore)
# 2. Keep service role keys and API tokens SECRET
# 3. Use different credentials for dev/staging/production
# 4. Rotate API tokens regularly for security
# 5. In production, encrypt sensitive variables in Cloudflare Dashboard
#
# Better Auth Setup:
# - Generate BETTER_AUTH_SECRET with: openssl rand -base64 32
# - Configure Google OAuth redirect URI: {BETTER_AUTH_URL}/api/auth/callback/google
# - D1 database binding "DB" is configured in wrangler.jsonc
#
